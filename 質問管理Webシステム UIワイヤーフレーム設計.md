# 質問管理Webシステム UIワイヤーフレーム設計

## 1. はじめに

本ドキュメントは、質問管理Webシステムのユーザーインターフェース（UI）の構造と主要コンポーネントを定義するワイヤーフレーム設計です。Material UI v5をベースとし、レスポンシブデザインを考慮します。

## 2. 全体レイアウト

*   **ヘッダー:**
    *   左側: システムロゴ（または名称）
    *   中央: (状況に応じて) ページタイトルやパンくずリスト
    *   右側: 通知ベルアイコン (未読件数バッジ付き)、ユーザーアバター (クリックでメニュー表示: プロフィール設定、ログアウト)
*   **サイドナビゲーション (左側、折りたたみ可能):**
    *   ダッシュボード (プロジェクト一覧)
    *   担当中の質問一覧
    *   新規質問作成 (フローティングアクションボタン(FAB)も検討)
    *   (Admin/プロジェクト管理者向け) ユーザー管理
    *   (Admin/プロジェクト管理者向け) プロジェクト設定
    *   通知一覧
*   **メインコンテンツエリア:** 各ページの主要コンテンツが表示されます。
*   **フッター:** (任意) コピーライト情報など。

## 3. 主要画面設計

### 3.1. ログイン/登録画面

*   **ログイン画面:**
    *   中央配置のカードコンポーネント
    *   システムロゴ/名称
    *   メールアドレス入力フィールド (Material UI TextField)
    *   パスワード入力フィールド (Material UI TextField, パスワード可視化トグル付き)
    *   「ログイン」ボタン (Material UI Button, Primary)
    *   「パスワードをお忘れですか？」リンク
    *   「アカウントをお持ちでない場合: 新規登録」リンク
*   **新規登録画面:**
    *   ログイン画面と類似のレイアウト
    *   氏名入力フィールド (任意)
    *   メールアドレス入力フィールド
    *   パスワード入力フィールド
    *   パスワード確認入力フィールド
    *   「登録」ボタン
    *   「アカウントをお持ちの場合: ログイン」リンク
*   **パスワードリセット要求画面:**
    *   メールアドレス入力フィールド
    *   「リセットリンクを送信」ボタン
*   **パスワードリセット実行画面:**
    *   新しいパスワード入力フィールド
    *   新しいパスワード確認入力フィールド
    *   「パスワードを更新」ボタン

### 3.2. ダッシュボード / プロジェクト一覧画面

*   **タイトル:** ダッシュボード / プロジェクト一覧
*   **上部:**
    *   「新規プロジェクト作成」ボタン (管理者/Adminのみ表示)
    *   検索バー (プロジェクト名で検索)
*   **メインエリア:**
    *   プロジェクトカードのグリッド表示、またはテーブル表示 (Material UI DataGrid)
        *   **カード表示の場合:** プロジェクト名、説明(一部)、メンバー数、最終更新日時、設定ボタン(管理者/Admin)
        *   **テーブル表示の場合:** 列: プロジェクト名, 説明, 作成者, メンバー数, 最終更新日時, アクション(詳細表示、設定)
    *   ページネーション

### 3.3. プロジェクト詳細画面

*   **ヘッダー:** プロジェクト名
*   **タブ:**
    *   **質問一覧:** (デフォルト表示)
        *   上部: 「新規質問作成」ボタン、検索フィルター (キーワード, 担当者, ステータス, 優先度, タグ, 期限切れ)
        *   メイン: 質問テーブル (Material UI DataGrid)
            *   列: タイトル, ステータス, 担当者, 質問者, 優先度, 期限, タグ, 作成日時, アクション(詳細表示)
            *   ソート、フィルタリング機能
            *   ページネーション
    *   **メンバー:**
        *   上部: 「メンバーを招待」ボタン (管理者/Admin)
        *   メイン: メンバーテーブル (Material UI DataGrid)
            *   列: ユーザー名, メールアドレス, 役割(Manager/Member), 参加日時, アクション(役割変更、除外 - 管理者/Admin)
    *   **設定:** (管理者/Adminのみ表示)
        *   プロジェクト名編集フィールド
        *   プロジェクト説明編集テキストエリア
        *   タグ管理セクション:
            *   現在のタグ一覧 (編集、削除ボタン付き)
            *   新規タグ追加フォーム (タグ名入力、追加ボタン)
        *   保留中の招待一覧
        *   プロジェクト削除ボタン (Adminのみ？要確認)

### 3.4. 質問詳細画面

*   **ヘッダー:** 質問タイトル (ステータス、優先度、タグをバッジ表示)
*   **上部:**
    *   質問者、担当者、作成日時、最終更新日時、回答期限表示
    *   「編集」ボタン (質問者/管理者/Admin)
    *   「削除」ボタン (質問者/管理者/Admin)
    *   「クローズ」ボタン (質問者、ステータスが承認待ちの場合)
    *   「再開」ボタン (質問者、ステータスがクローズの場合)
*   **メインエリア (2カラムレイアウトも検討):**
    *   **左側 (または上部): 質問内容**
        *   質問本文表示エリア (Markdown対応)
    *   **右側 (または下部): 回答スレッド**
        *   時系列に回答を表示するカードリスト
            *   各カード: 回答者アバター/名前, 回答日時, 回答内容(Markdown対応), 添付ファイル(画像プレビュー、動画/ファイルリンク), 編集/削除ボタン(回答者本人)
        *   **回答入力エリア (担当者/管理者/Admin向け):**
            *   **自由記述の場合:** リッチテキストエディタ (Markdownサポート)
            *   **回答フォームの場合:** 定義されたフォームフィールドを表示 (Material UI TextField, RadioGroup, Textarea, FileUpload)
            *   ファイル添付ボタン (Vercel Blob連携)
            *   「回答を投稿」ボタン
        *   **会話から新規質問作成:** 各回答に「この回答から質問を作成」ボタン (クリックで新規質問作成画面へ遷移、内容引用)

### 3.5. 質問作成/編集画面

*   **タイトル:** 新規質問作成 / 質問編集
*   **フォーム:**
    *   プロジェクト選択 (作成時、ドロップダウン)
    *   質問タイトル入力 (TextField)
    *   質問内容入力 (リッチテキストエディタ/Textarea)
    *   担当者選択 (ユーザー選択コンポーネント、オートコンプリート)
    *   回答期限設定 (DatePicker)
    *   優先度選択 (Select/RadioGroup: 最高, 高, 中, 低)
    *   タグ選択 (MultiSelect/ChipInput, プロジェクト固有タグを表示)
    *   **回答形式選択:**
        *   ラジオボタン: 「自由記述」「回答フォームを使用」
        *   **回答フォーム選択/作成エリア (「回答フォームを使用」選択時):**
            *   「テンプレートから選択」ドロップダウン
            *   「新規フォームを作成」ボタン -> フォームビルダーUI表示
                *   フィールド追加ボタン (+)
                *   フィールドリスト (各フィールド: ラベル入力, タイプ選択(TEXT, NUMBER, RADIO, FILE, TEXTAREA), オプション入力(RADIO), 必須チェックボックス, 並び替えハンドル, 削除ボタン)
                *   「このフォームをテンプレートとして保存」チェックボックス＋テンプレート名入力
*   **下部:**
    *   「作成」/「更新」ボタン
    *   「キャンセル」ボタン

### 3.6. 担当中の質問一覧画面

*   **タイトル:** 担当中の質問
*   **上部:** 検索フィルター (キーワード, プロジェクト, ステータス, 優先度, 期限切れ)
*   **メインエリア:** 質問テーブル (Material UI DataGrid)
    *   列: タイトル, プロジェクト名, ステータス, 質問者, 優先度, 期限, 作成日時, アクション(詳細表示)
    *   デフォルトで未完了(NEW, IN_PROGRESS, PENDING_APPROVAL)の質問を表示
    *   期限が近い/切れているものを強調表示
    *   ページネーション

### 3.7. 通知ドロップダウン/一覧画面

*   **ドロップダウン (ヘッダーのベルアイコンクリック):**
    *   最新5件の未読通知リスト
    *   各通知: アイコン(タイプ別), メッセージ(一部), 日時, クリックで関連ページへ遷移＆既読化
    *   下部に「すべて既読にする」ボタン
    *   下部に「通知一覧へ」リンク
*   **通知一覧画面:**
    *   タイトル: 通知一覧
    *   上部: 「未読のみ表示」スイッチ/チェックボックス, 「すべて既読にする」ボタン
    *   メインエリア: 通知リスト (スクロール読み込み or ページネーション)
        *   各通知: アイコン, メッセージ(全文), 日時, 関連情報(プロジェクト名/質問タイトルなど), クリックで関連ページへ遷移＆既読化

### 3.8. ユーザープロフィール/設定画面

*   **タイトル:** プロフィール設定
*   **フォーム:**
    *   氏名編集フィールド
    *   メールアドレス表示 (変更不可)
    *   パスワード変更セクション:
        *   現在のパスワード入力
        *   新しいパスワード入力
        *   新しいパスワード確認入力
        *   「パスワードを変更」ボタン
*   **下部:**
    *   「更新」ボタン

### 3.9. Admin ユーザー管理画面

*   **タイトル:** ユーザー管理
*   **上部:** 検索バー (メールアドレス/名前)
*   **メインエリア:** ユーザーテーブル (Material UI DataGrid)
    *   列: 氏名, メールアドレス, 役割(ADMIN/USER), 作成日時, アクション(編集[役割変更], 削除)
    *   ページネーション

## 4. レスポンシブデザイン

*   モバイルデバイスではサイドナビゲーションはデフォルトで非表示とし、ハンバーガーメニューで開閉可能にする。
*   テーブル(DataGrid)は、モバイルでは主要な列のみ表示するか、カード形式に切り替えるなどの対応を行う。
*   グリッドレイアウトは画面幅に応じてカラム数を調整する。
*   フォーム要素やボタンは、モバイルでもタップしやすいサイズと間隔を確保する。

## 5. その他

*   状態管理(Zustand)とAPIキャッシュ(React Query)を活用し、UIの状態とサーバーデータの同期を効率的に行う。
*   ローディング状態やエラーステートを適切に表示する (スピナー、スケルトンローダー、エラーメッセージ)。
*   アクセシビリティ(a11y)にも配慮した設計・実装を行う。

